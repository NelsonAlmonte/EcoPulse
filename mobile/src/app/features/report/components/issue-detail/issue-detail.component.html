@if (!issueData) {
<app-issue-detail-loading></app-issue-detail-loading>
} @if (issueData) {
<div class="md-surface-container-high rounded-2xl mb-4 issue-detail-card">
  <img
    class="rounded-t-2xl rounded-b-2xl w-full h-50 object-cover"
    src="{{ issueData.photo }}"
    alt="{{ issueData.category.name }}"
  />
  <div class="px-4 py-5">
    <div class="flex items-center justify-between">
      @if (issueData.status === DEFAULT_STATUS) {
      <span
        class="inline-flex items-center capitalize text-xs text-amber-800 bg-amber-500/30 font-medium px-2.5 py-1 rounded-2xl"
      >
        <lucide-angular
          class="me-0.5"
          [img]="clockIcon"
          size="12"
        ></lucide-angular>
        {{ issueData.status.toLocaleLowerCase() }}
      </span>
      } @else {
      <span
        class="inline-flex items-center capitalize text-xs text-emerald-800 bg-emerald-500/30 font-medium px-2.5 py-1 rounded-2xl"
      >
        <lucide-angular
          class="me-0.5"
          [img]="checkCircle"
          size="12"
        ></lucide-angular>
        {{ issueData.status.toLocaleLowerCase() }}
      </span>
      }
    </div>
    <div class="flex items-center justify-between mb-6">
      <div>
        <h5 class="my-2! text-xl! font-bold md-on-surface">
          {{ issueData.category.name }}
        </h5>
        @if (issueData.comment) {
        <p class="font-normal md-on-surface-variant">
          {{ issueData.comment }}
        </p>
        }
      </div>
    </div>
    <div class="flex items-center justify-between">
      <div class="flex items-center justify-start">
        <lucide-angular
          class="me-1 md-on-surface-variant"
          [img]="userIcon"
          size="36"
        ></lucide-angular>
        <div class="flex flex-col">
          <span class="md-on-surface text-sm">
            {{ issueData.user.name + " " + issueData.user.last }}
          </span>
          <span class="text-xs md-on-surface-variant">
            {{ issueData.createdAt | relativeTime : "es-ES" }}
          </span>
        </div>
      </div>
      <app-highlight-button [issue]="issueData"></app-highlight-button>
    </div>
  </div>
</div>
}
